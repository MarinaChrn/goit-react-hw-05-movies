"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[413],{687:function(n,t,e){e.d(t,{BD:function(){return f},NH:function(){return l},jC:function(){return s},wr:function(){return c}});var r=e(861),a=e(757),o=e.n(a),u=e(243);u.Z.defaults.baseURL="https://api.themoviedb.org/3";var i="c67a48adb3404d662a84d5e73bbe6a15",c=function(){var n=(0,r.Z)(o().mark((function n(t){var e,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.Z.get("/trending/all/day?api_key=".concat(i),{signal:t.signal});case 2:return e=n.sent,r=e.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),s=function(){var n=(0,r.Z)(o().mark((function n(t,e){var r,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.Z.get("/movie/".concat(t,"?api_key=").concat(i),{signal:e.signal});case 2:return r=n.sent,a=r.data,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),l=function(){var n=(0,r.Z)(o().mark((function n(t,e){var r,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.Z.get("/search/movie?query=".concat(t,"&api_key=").concat(i),{signal:e.signal});case 2:return r=n.sent,a=r.data,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),f=function(){var n=(0,r.Z)(o().mark((function n(t,e){var r,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.Z.get("/movie/".concat(t,"/credits?api_key=").concat(i,"&page=1&per_page=20"),{signal:e.signal});case 2:return r=n.sent,a=r.data,n.abrupt("return",a.cast);case 5:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()},319:function(n,t,e){e.d(t,{Z:function(){return d}});var r,a,o=e(689),u=e(168),i=e(444),c=e(87),s=(0,i.ZP)(c.OL)(r||(r=(0,u.Z)(["\n    text-decoration: none;\n    color: black;\n    &:hover, &:focus {\n        color: red;\n    }\n"]))),l=e(184),f=function(n){var t=n.filmInf,e=n.state;return(0,l.jsx)("li",{children:(0,l.jsx)(s,{to:"/movies/".concat(t.id),end:!0,state:e,children:"".concat(void 0!==t.title?t.title:t.name)})})},p=i.ZP.ul(a||(a=(0,u.Z)(["\n    list-style: disc;\n    margin-left: 20px;\n    margin-top: 20px;\n    padding: 0px;\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n"]))),d=function(n){var t=n.arrayFilms,e=(0,o.TH)();return(0,l.jsx)(p,{children:0!==t.length&&t.map((function(n){return(0,l.jsx)(f,{filmInf:n,state:{from:e}},n.id)}))})}},413:function(n,t,e){e.r(t),e.d(t,{default:function(){return k}});var r,a,o,u=e(433),i=e(861),c=e(439),s=e(757),l=e.n(s),f=e(687),p=e(319),d=e(791),v=e(168),h=e(444),x=h.ZP.form(r||(r=(0,v.Z)(["\n    display:flex;\n    align-items: center;\n    margin-top: 40px;\n"]))),m=h.ZP.input(a||(a=(0,v.Z)(["\n    padding: 8px;\n    font-size: 16px;\n    border-radius:0px;\n    border: 2px solid #ababab;\n    &:hover, &:focus {\n        border-color: #a6cdff;\n    }\n"]))),g=h.ZP.button(o||(o=(0,v.Z)(["\n    padding: 8px 10px;\n    font-size: 16px;\n    background-color:transparent;\n    cursor: pointer;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n    border: none;\n    background-color: #ababab;\n    &:hover, &:focus {\n        background-color: #a6cdff;\n    }\n"]))),b=e(184),Z=function(n){var t=n.valueParams,e=n.onSubmit,r=(0,d.useState)(t),a=(0,c.Z)(r,2),o=a[0],u=a[1],i=function(n){n.preventDefault(),0!==o.length&&(e(o.toLowerCase()),u(""))};return(0,b.jsxs)(x,{onSubmit:function(n){i(n)},children:[(0,b.jsx)(m,{type:"text",value:o,placeholder:"Write title of film",onChange:function(n){return function(n){" "!==n.target.value&&u(n.target.value)}(n)}}),(0,b.jsx)(g,{type:"submit",onClick:function(n){},children:"Search"})]})},y=e(87),k=function(){var n,t=(0,y.lr)(),e=(0,c.Z)(t,2),r=e[0],a=e[1],o=(0,d.useState)([]),s=(0,c.Z)(o,2),v=s[0],h=s[1],x=(0,d.useState)(!1),m=(0,c.Z)(x,2),g=m[0],k=m[1],w=(0,d.useState)(null),j=(0,c.Z)(w,2)[1],S=null!==(n=r.get("query"))&&void 0!==n?n:"";return(0,d.useEffect)((function(){var n=new AbortController;function t(){return(t=(0,i.Z)(l().mark((function t(){var e;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,k(!0),j(null),t.next=5,(0,f.NH)(S,n);case 5:e=t.sent,h((0,u.Z)(e.results)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),j(t.t0);case 12:return t.prev=12,k(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){return n.abort()}}),[S]),(0,b.jsxs)("main",{children:[g&&(0,b.jsx)("p",{children:"Loading..."}),!g&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Z,{valueParams:S,onSubmit:function(n){a(""!==n?{query:n}:{})}}),(0,b.jsx)(p.Z,{arrayFilms:v})]}),0===v.length&&0!==S.length&&(0,b.jsxs)("p",{children:["Sorry, we couldn't find films with title: ",S,", try another one"]})]})}}}]);
//# sourceMappingURL=413.70144918.chunk.js.map